"use strict";(self.webpackChunkes_documentation=self.webpackChunkes_documentation||[]).push([[345],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),m=o,f=p["".concat(l,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9636:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const i={sidebar_position:1},a="SUR-16 Create Video from Intrusions",s={unversionedId:"user-stories/SUR-16",id:"user-stories/SUR-16",title:"SUR-16 Create Video from Intrusions",description:"As a client/sec. officer/admin I want to be able to view videos in order to review intrusion footage.",source:"@site/docs/user-stories/SUR-16.md",sourceDirName:"user-stories",slug:"/user-stories/SUR-16",permalink:"/documentation/docs/user-stories/SUR-16",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Tutorial Intro",permalink:"/documentation/docs/intro"},next:{title:"SUR-10",permalink:"/documentation/docs/user-stories/template"}},l={},c=[{value:"Integration",id:"integration",level:2},{value:"Unit",id:"unit",level:2},{value:"Tests results",id:"tests-results",level:2},{value:"V1",id:"v1",level:2},{value:"V2",id:"v2",level:2}],u={toc:c};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"sur-16-create-video-from-intrusions"},"SUR-16 Create Video from Intrusions"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"As a client/sec. officer/admin I want to be able to view videos in order to review intrusion footage.")),(0,o.kt)("h1",{id:"acceptance-criteria"},"Acceptance Criteria"),(0,o.kt)("p",null,"Given there are videos, when I want to see one, then I want to watch it. "),(0,o.kt)("h1",{id:"tests"},"Tests"),(0,o.kt)("h2",{id:"integration"},"Integration"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Make run on AWS")),(0,o.kt)("h2",{id:"unit"},"Unit"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Compose video from static frames")),(0,o.kt)("h2",{id:"tests-results"},"Tests results"),(0,o.kt)("p",null,"Informal unit tests passed, there were problems determining how they should be formally done."),(0,o.kt)("h1",{id:"solutions-architecture"},"Solution\u2019s Architecture"),(0,o.kt)("h2",{id:"v1"},"V1"),(0,o.kt)("p",null,"Implemented on a lambda function triggered by the HDM, fetching and storing the video in Amazon S3."),(0,o.kt)("h2",{id:"v2"},"V2"),(0,o.kt)("p",null,"Implemented as an ECS image, given the lambdas are not infinitely scalable."),(0,o.kt)("p",null,"Exposes an API with a single endpoint to signal an intrusion, asks the camera for the video."),(0,o.kt)("p",null,"The camera now is supposed to serve video when requested. The intrusion timestamp is provided by the HDM when an intrusion is detected. In this point, the IMA will call the camera asking for the video and the camera will process it. In order not to block the IMA for so long, when the clip is ready the camera will send it to another endpoint in the IMA."))}d.isMDXComponent=!0}}]);