"use strict";(self.webpackChunkes_documentation=self.webpackChunkes_documentation||[]).push([[934],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},l=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=a,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||i;return r?n.createElement(h,o(o({ref:t},l),{},{components:r})):n.createElement(h,o({ref:t},l))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1754:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=r(7462),a=(r(7294),r(3905));const i={sidebar_position:1},o="Management API",s={unversionedId:"architecture/management",id:"architecture/management",title:"Management API",description:"This service handles properties, cameras and user preferences.",source:"@site/docs/architecture/management.md",sourceDirName:"architecture",slug:"/architecture/management",permalink:"/documentation/docs/architecture/management",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"SECCOM",permalink:"/documentation/docs/intro"},next:{title:"IMA",permalink:"/documentation/docs/architecture/ima"}},c={},p=[],l={toc:p};function u(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"management-api"},"Management API"),(0,a.kt)("p",null,"This service handles properties, cameras and user preferences."),(0,a.kt)("p",null,"It also establishes another layer of verification through AWS Cognito to establish in depth security."),(0,a.kt)("p",null,"Users are only able to see their properties and cameras and change their user preferecnes."),(0,a.kt)("p",null,"Security officers have administrator previledges in the properties they operate."),(0,a.kt)("p",null,"Administrators have administrator previledges in every property, as well as the permission to create and delete properties, cameras and users."),(0,a.kt)("h1",{id:"implementation"},"Implementation"),(0,a.kt)("p",null,"It exposes authenticated CRUD endpoints for camerasproperties, cameras and users."),(0,a.kt)("p",null,"Camreas are defined by the property they are in and a name. "),(0,a.kt)("p",null,"There are some legacy properties that were not removed to save refractoring time. ",(0,a.kt)("inlineCode",{parentName:"p"},"isCamera")," indicates whether the sensor is a camera or not, since a presence sensor was planned in the beggining of the project due to requirement misunderstanding. ",(0,a.kt)("inlineCode",{parentName:"p"},"alive")," was a first attempt at implementing device health checks, which was later replaced by AWS CloudMap. "),(0,a.kt)("p",null,"Properties are defined by a numeric identifier, a name, country, state, city, street, zip code, and the owner's Id.\nThe properties' country, state and city are validated via the ",(0,a.kt)("a",{parentName:"p",href:"https://countriesnow.space"},"countriesnow API"),"."),(0,a.kt)("p",null,"User preferences store a user identifier and a string containing their preferences.\nFor more details on the preferences please read the ",(0,a.kt)("a",{parentName:"p",href:"#"},"Notifications API")," documentation."),(0,a.kt)("p",null,"The documentation is automatically generated with swagger and served via the REST API."),(0,a.kt)("h1",{id:"diagrams"},"Diagrams"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Class diagrams",src:r(9072).Z,width:"377",height:"413"})),(0,a.kt)("h1",{id:"tests"},"Tests"),(0,a.kt)("p",null,"The desired coverage was not attained for 2 reasons:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Reliance on AWS cognito, we did not make a set up on cognitoto allow for testing user management"),(0,a.kt)("li",{parentName:"ul"},"Video testing, which is very hard to mock")))}u.isMDXComponent=!0},9072:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/management_classes-35769b2a13cf0ad9e6f6bf2a372115c9.png"}}]);